# =============================================================================
# Garfenter Contable - Environment Configuration
# Based on Bigcapital Accounting System
# Configured for Guatemala Market
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
BASE_URL=http://localhost:3000
NODE_ENV=production

# API and WebApp Ports
API_PORT=3000
WEBAPP_PORT=4000

# -----------------------------------------------------------------------------
# Security - JWT Authentication
# IMPORTANT: Change these values in production!
# -----------------------------------------------------------------------------
JWT_SECRET=garfenter_jwt_secret_please_change_this_in_production_to_a_random_string
APP_JWT_SECRET=garfenter_app_jwt_change_this_too

# -----------------------------------------------------------------------------
# Database Configuration - PostgreSQL 15
# -----------------------------------------------------------------------------
DB_HOST=garfenter-postgres
DB_PORT=5432
DB_USER=garfenter
DB_PASSWORD=garfenter_secure_2024_change_in_production
DB_CHARSET=utf8

# System Database (Core Application)
SYSTEM_DB_NAME=garfenter_system

# Tenant Databases (Multi-tenant support)
TENANT_DB_NAME_PERFIX=garfenter_tenant_

# -----------------------------------------------------------------------------
# Localization - Guatemala Settings
# -----------------------------------------------------------------------------
DEFAULT_LOCALE=es
DEFAULT_CURRENCY=GTQ
DEFAULT_TIMEZONE=America/Guatemala

# -----------------------------------------------------------------------------
# Email Configuration
# Configure your SMTP server for sending emails
# -----------------------------------------------------------------------------
MAIL_HOST=smtp.example.com
MAIL_USERNAME=contable@garfenter.com
MAIL_PASSWORD=your_email_password
MAIL_PORT=587
MAIL_SECURE=false
MAIL_FROM_NAME=Garfenter Contable
MAIL_FROM_ADDRESS=contable@garfenter.com

# -----------------------------------------------------------------------------
# Admin Dashboard Access (Agendash - Job Queue Monitor)
# Access at: http://localhost:3000/agendash
# -----------------------------------------------------------------------------
AGENDASH_AUTH_USER=admin
AGENDASH_AUTH_PASSWORD=change_this_admin_password

# -----------------------------------------------------------------------------
# User Registration Settings
# -----------------------------------------------------------------------------
# Disable public registration (set to true for private deployment)
SIGNUP_DISABLED=false

# Restrict registration to specific domains (comma-separated)
# Example: garfenter.com,empresa.gt
SIGNUP_ALLOWED_DOMAINS=

# Restrict registration to specific emails (comma-separated)
# Example: admin@garfenter.com,contable@garfenter.com
SIGNUP_ALLOWED_EMAILS=

# Require email confirmation for new registrations
SIGNUP_EMAIL_CONFIRMATION=false

# -----------------------------------------------------------------------------
# Exchange Rate Service (for multi-currency support)
# Get free API key at: https://openexchangerates.org/
# -----------------------------------------------------------------------------
EXCHANGE_RATE_SERVICE=open-exchange-rate
OPEN_EXCHANGE_RATE_APP_ID=your_api_key_here

# -----------------------------------------------------------------------------
# Bank Feed Integration (Optional)
# Plaid integration for automated bank transactions
# Get credentials at: https://dashboard.plaid.com/
# -----------------------------------------------------------------------------
BANK_FEED_ENABLED=false
PLAID_ENV=sandbox
PLAID_CLIENT_ID=
PLAID_SECRET=
PLAID_LINK_WEBHOOK=

# -----------------------------------------------------------------------------
# File Storage - S3 Compatible (Optional)
# Configure for document storage (invoices, receipts, etc.)
# Compatible with AWS S3, DigitalOcean Spaces, MinIO, etc.
# -----------------------------------------------------------------------------
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_ENDPOINT=
S3_BUCKET=garfenter-contable-documents

# -----------------------------------------------------------------------------
# Payment Gateway Integration (Optional)
# -----------------------------------------------------------------------------
# Stripe Payment Integration
STRIPE_PAYMENT_SECRET_KEY=
STRIPE_PAYMENT_PUBLISHABLE_KEY=
STRIPE_PAYMENT_CLIENT_ID=
STRIPE_PAYMENT_WEBHOOKS_SECRET=
STRIPE_PAYMENT_REDIRECT_URL=

# -----------------------------------------------------------------------------
# Subscription Management (Optional)
# LemonSqueezy for SaaS subscriptions
# Get credentials at: https://app.lemonsqueezy.com/settings/api
# -----------------------------------------------------------------------------
LEMONSQUEEZY_API_KEY=
LEMONSQUEEZY_STORE_ID=
LEMONSQUEEZY_WEBHOOK_SECRET=
HOSTED_ON_BIGCAPITAL_CLOUD=false

# -----------------------------------------------------------------------------
# Analytics & Monitoring (Optional)
# PostHog for product analytics
# Get API key at: https://posthog.com/
# -----------------------------------------------------------------------------
POSTHOG_API_KEY=
POSTHOG_HOST=https://app.posthog.com

# -----------------------------------------------------------------------------
# Advanced Monitoring (Optional)
# New Relic APM for production monitoring
# -----------------------------------------------------------------------------
NEW_RELIC_DISTRIBUTED_TRACING_ENABLED=false
NEW_RELIC_LOG=stdout
NEW_RELIC_AI_MONITORING_ENABLED=false
NEW_RELIC_CUSTOM_INSIGHTS_EVENTS_MAX_SAMPLES_STORED=1000
NEW_RELIC_SPAN_EVENTS_MAX_SAMPLES_STORED=1000
NEW_RELIC_LICENSE_KEY=
NEW_RELIC_APP_NAME=Garfenter Contable

# -----------------------------------------------------------------------------
# Rate Limiting
# Format: points,duration_seconds,block_duration_seconds
# Default: 120 requests per 60 seconds, block for 600 seconds if exceeded
# -----------------------------------------------------------------------------
API_RATE_LIMIT=120,60,600

# -----------------------------------------------------------------------------
# Internal Services Configuration
# Do not modify unless you know what you're doing
# -----------------------------------------------------------------------------
GOTENBERG_URL=http://garfenter-gotenberg:3000
GOTENBERG_DOCS_URL=http://garfenter-contable:3000/public/
MONGODB_DATABASE_URL=mongodb://garfenter-mongo:27017/garfenter_contable
REDIS_HOST=garfenter-redis
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# Proxy Configuration (if using reverse proxy like Nginx or Traefik)
# -----------------------------------------------------------------------------
PUBLIC_PROXY_PORT=80
PUBLIC_PROXY_SSL_PORT=443
